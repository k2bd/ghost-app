{"version":3,"sources":["components/GameJoinInfo.tsx","components/Donate.tsx","components/HowToPlay.tsx","components/GhostNavbar.tsx","redux/player/actions.ts","pages/JoinGamePage.tsx","redux/api.ts","redux/games/actions.ts","components/ChallengeButton.tsx","components/GameTile.tsx","components/TilesRow.tsx","components/ChallengeResponseDialog.tsx","components/ChallengeVoteDialog.tsx","components/GameBoard.tsx","components/PlayersList.tsx","pages/GamePage.tsx","App.tsx","redux/games/reducers.ts","redux/player/reducers.ts","redux/rootReducer.ts","redux/store.ts","index.tsx"],"names":["GameJoinInfo","joinGame","useState","roomCode","setRoomCode","playerName","setPlayerName","nonemptyAlertIsOpen","setNonemptyAlertIsOpen","elevation","maxLength","onChange","event","target","value","placeholder","text","intent","Intent","PRIMARY","onClick","length","ensureNonemptyStrings","isOpen","onClose","canEscapeKeyCancel","canOutsideClickCancel","confirmButtonText","WARNING","Donate","buttonText","isMobile","icon","href","HowToPlay","setIsOpen","title","className","DIALOG_BODY","GhostNavbar","Group","align","Alignment","LEFT","Heading","Divider","RIGHT","createAction","JoinGamePage","dispatch","useDispatch","history","useHistory","push","GHOST_API_URL","process","console","log","ghostApi","axios","create","baseURL","fetchGameByRoomCode","createAsyncThunk","a","get","response","data","createGame","post","thunkApi","player","status","rejectWithValue","statusCode","makeMove","move","makeChallenge","challenge","makeChallengeResponse","challengeResponse","makeChallengeVote","vote","ChallengeButton","useSelector","state","localPlayer","game","enabled","name","turnPlayerName","moves","createChallenge","type","challengerName","challengeButton","disabled","DANGER","popoverContent","content","placement","GameTile","letter","position","isPlayable","background","isMostRecentlyPlayed","inputDisabled","size","upperLetter","toUpperCase","test","submitMove","style","rowEntries","rowIndex","rowValues","filter","y","sort","b","x","rowIndexes","map","rowWidth","rowWithNulls","Array","from","keys","_","index","includes","indexOf","colEntries","colIndex","colValues","colIndexes","colWidth","TilesRow","entries","display","flexDirection","ChallengeResponseDialog","rowWord","setRowWord","colWord","setColWord","mostRecentMove","row","col","isCloseButtonShown","Classes","label","inline","join","ChallengeVoteDialog","messageBody","challengedRow","challengedCol","submitVote","proChallenge","voterName","submitted","votes","responseRow","responseCol","split","tiles","slice","tile","reduce","accumulator","currentValue","neighborCount","GameBoard","Math","max","forEach","renderedTiles","deepEqual","PlayerRow","turnPlayer","loser","PlayersList","players","losers","GamePage","useParams","gameLoadStatus","joined","useInterval","App","basename","path","exact","component","to","gamesSlice","createSlice","initialState","reducers","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","playerReducer","createReducer","rootReducer","combineReducers","reducer","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5d76febb.chunk.js","sourcesContent":["import { Alert, Button, Card, InputGroup, Intent } from '@blueprintjs/core';\nimport React, { useState } from 'react';\n\ntype Props = {\n    joinGame: (roomCode: string, playerName: string) => void;\n};\n\nconst GameJoinInfo: React.FC<Props> = ({ joinGame }: Props) => {\n    const [roomCode, setRoomCode] = useState<string>('');\n    const [playerName, setPlayerName] = useState<string>('');\n\n    const [nonemptyAlertIsOpen, setNonemptyAlertIsOpen] = useState<boolean>(false);\n\n    const ensureNonemptyStrings = (\n        roomCode: string,\n        playerName: string,\n        joinGame: (roomCode: string, playerName: string) => void,\n    ) => {\n        if (roomCode.length == 0 || playerName.length == 0) {\n            setNonemptyAlertIsOpen(true);\n        } else {\n            joinGame(roomCode, playerName);\n        }\n    };\n\n    return (\n        <div>\n            <Card elevation={2}>\n                <h2>Join a Game</h2>\n                <InputGroup\n                    maxLength={10}\n                    onChange={(event) => setRoomCode(event.target.value)}\n                    placeholder=\"Room Code...\"\n                />\n                <InputGroup\n                    maxLength={10}\n                    onChange={(event) => setPlayerName(event.target.value)}\n                    placeholder=\"Player Name...\"\n                />\n                <Button\n                    text=\"Join\"\n                    intent={Intent.PRIMARY}\n                    onClick={() => ensureNonemptyStrings(roomCode, playerName, joinGame)}\n                />\n            </Card>\n            <Alert\n                isOpen={nonemptyAlertIsOpen}\n                onClose={() => setNonemptyAlertIsOpen(false)}\n                canEscapeKeyCancel={true}\n                canOutsideClickCancel={true}\n                confirmButtonText=\"Okay\"\n                intent={Intent.WARNING}\n            >\n                <p>You must enter a room code and player name.</p>\n            </Alert>\n        </div>\n    );\n};\n\nexport default GameJoinInfo;\n","import { AnchorButton } from '@blueprintjs/core';\nimport React from 'react';\nimport { isMobile } from 'react-device-detect';\n\nconst Donate: React.FC = () => {\n    const buttonText = isMobile ? '' : 'Support';\n\n    return (\n        <AnchorButton\n            icon=\"dollar\"\n            text={buttonText}\n            href=\"https://www.buymeacoffee.com/k2bd\"\n            target=\"_blank\"\n            intent=\"primary\"\n        />\n    );\n};\n\nexport default Donate;\n","import { Button, Dialog, Intent } from '@blueprintjs/core';\nimport { DIALOG_BODY } from '@blueprintjs/core/lib/esm/common/classes';\nimport React, { useState } from 'react';\nimport { isMobile } from 'react-device-detect';\n\nconst HowToPlay: React.FC = () => {\n    const [isOpen, setIsOpen] = useState<boolean>(false);\n\n    const buttonText = isMobile ? '' : 'How to play';\n\n    return (\n        <div>\n            <Button icon=\"info-sign\" text={buttonText} onClick={() => setIsOpen(true)} intent={Intent.PRIMARY} />\n            <Dialog icon=\"info-sign\" onClose={() => setIsOpen(false)} title=\"How to play 2D Ghost\" isOpen={isOpen}>\n                <div className={DIALOG_BODY}>\n                    <h3>Overview</h3>\n                    <p>\n                        2D Ghost is a competitive word building game in which players take turns placing letters on a\n                        board while trying to avoid completing words.\n                    </p>\n                    <h3>Where can I place a tile?</h3>\n                    <p>\n                        A new tile can be placed either at the first free tile along the horizontal or vertical edges,\n                        or at any tile that has at least 3 neighbors (including diagonals). TODO: example images.\n                    </p>\n                    <h3>Challenges</h3>\n                    <p>\n                        A move can be challenged by any player. The challenge can be because the player believes the\n                        previous move either completed a word, or cannot complete a word, in the row or column the most\n                        recent turn was made in. Remember that words being built must start at the edges. (TODO:\n                        examples).\n                    </p>\n                    <p>\n                        When a challenge has been made, players must vote on whether the challenge is successful. If it\n                        is, the challenged player will be removed from the game. If it fails, the challenger is removed.\n                        A challenge must get at least 50% of the votes to pass.\n                    </p>\n                </div>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default HowToPlay;\n","import { Alignment, Navbar } from '@blueprintjs/core';\nimport React from 'react';\nimport Donate from './Donate';\nimport HowToPlay from './HowToPlay';\n\ntype Props = {\n    roomCode?: string;\n};\n\nconst GhostNavbar: React.FC<Props> = ({ roomCode }: Props) => {\n    return (\n        <Navbar>\n            <Navbar.Group align={Alignment.LEFT}>\n                <Navbar.Heading>2D Ghost</Navbar.Heading>\n                <Navbar.Divider />\n                <Navbar.Heading>{roomCode}</Navbar.Heading>\n            </Navbar.Group>\n            <Navbar.Group align={Alignment.RIGHT}>\n                <HowToPlay />\n                <Navbar.Divider />\n                <Donate />\n            </Navbar.Group>\n        </Navbar>\n    );\n};\n\nexport default GhostNavbar;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const setPlayerName = createAction<string, 'setPlayerName'>('setPlayerName');\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport GameJoinInfo from '../components/GameJoinInfo';\nimport GhostNavbar from '../components/GhostNavbar';\nimport { setPlayerName } from '../redux/player/actions';\nimport './JoinGamePage.css';\n\nconst JoinGamePage: React.FC = () => {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const joinGame = (roomCode: string, playerName: string) => {\n        dispatch(setPlayerName(playerName));\n        history.push(`/room/${roomCode}`);\n    };\n\n    return (\n        <div className=\"game-join-page\">\n            <GhostNavbar />\n            <div className=\"vertical-centering\">\n                <GameJoinInfo joinGame={(roomCode, playerName) => joinGame(roomCode, playerName)} />\n            </div>\n        </div>\n    );\n};\n\nexport default JoinGamePage;\n","import axios from 'axios';\n\nconst GHOST_API_URL = process.env.REACT_APP_GHOST_API_URL;\n\nconsole.log(GHOST_API_URL);\n\nconst ghostApi = axios.create({ baseURL: GHOST_API_URL });\n\nexport default ghostApi;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport ghostApi from '../api';\n\ninterface Error {\n    statusCode: number;\n}\n\nexport const fetchGameByRoomCode = createAsyncThunk<Game, string, { rejectValue: Error }>(\n    'games/fetchGameByRoomCode',\n    async (roomCode) => {\n        const response = await ghostApi.get(`/game/${roomCode}`);\n        return response.data as Game;\n    },\n);\n\nexport const createGame = createAsyncThunk<Game, string>('games/createGame', async (roomCode) => {\n    const response = await ghostApi.post(`/game/${roomCode}`);\n    return response.data as Game;\n});\n\nexport const joinGame = createAsyncThunk<Game, { roomCode: string; player: Player }, { rejectValue: Error }>(\n    'games/joinGame',\n    async ({ roomCode, player }, thunkApi) => {\n        const response = await ghostApi.post(`/game/${roomCode}/player`, player);\n        if (response.status === 404) {\n            return thunkApi.rejectWithValue({ statusCode: 404 });\n        }\n        return response.data as Game;\n    },\n);\n\nexport const makeMove = createAsyncThunk<Game, { roomCode: string; move: Move }>(\n    'games/makeMove',\n    async ({ roomCode, move }, thunkApi) => {\n        const response = await ghostApi.post(`/game/${roomCode}/move`, move);\n        if (response.status !== 200) {\n            return thunkApi.rejectWithValue({ statusCode: response.status });\n        }\n        return response.data as Game;\n    },\n);\n\nexport const makeChallenge = createAsyncThunk<Game, { roomCode: string; challenge: NewChallenge }>(\n    'games/makeChallenge',\n    async ({ roomCode, challenge }, thunkApi) => {\n        const response = await ghostApi.post(`/game/${roomCode}/challenge`, challenge);\n        if (response.status !== 200) {\n            return thunkApi.rejectWithValue({ statusCode: response.status });\n        }\n        return response.data as Game;\n    },\n);\n\nexport const makeChallengeResponse = createAsyncThunk<Game, { roomCode: string; challengeResponse: ChallengeResponse }>(\n    'games/makeChallengeResponse',\n    async ({ roomCode, challengeResponse }, thunkApi) => {\n        const response = await ghostApi.post(`/game/${roomCode}/challenge-response`, challengeResponse);\n        if (response.status !== 200) {\n            return thunkApi.rejectWithValue({ statusCode: response.status });\n        }\n        return response.data as Game;\n    },\n);\n\nexport const makeChallengeVote = createAsyncThunk<Game, { roomCode: string; vote: ChallengeVote }>(\n    'games/makeChallengeVote',\n    async ({ roomCode, vote }, thunkApi) => {\n        const response = await ghostApi.post(`/game/${roomCode}/challenge-vote`, vote);\n        if (response.status !== 200) {\n            return thunkApi.rejectWithValue({ statusCode: response.status });\n        }\n        return response.data as Game;\n    },\n);\n","import { AnchorButton, Button, Intent } from '@blueprintjs/core';\nimport { Popover2 } from '@blueprintjs/popover2';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeChallenge } from '../redux/games/actions';\nimport { RootState } from '../redux/store';\n\nconst ChallengeButton: React.FC = () => {\n    const player = useSelector((state: RootState) => state.player.localPlayer);\n    const { game } = useSelector((state: RootState) => state.game);\n\n    const dispatch = useDispatch();\n\n    const enabled = game && player?.name === game.turnPlayerName && game.moves.length > 0 && game.challenge === null;\n\n    const createChallenge = (type: ChallengeType) => {\n        if (game === null || player === null) {\n            return;\n        }\n        dispatch(\n            makeChallenge({\n                roomCode: game.roomCode,\n                challenge: {\n                    challengerName: player.name,\n                    move: game.moves[game.moves.length - 1],\n                    type: type,\n                },\n            }),\n        );\n    };\n\n    const challengeButton = <AnchorButton icon=\"flag\" text=\"Challenge\" disabled={!enabled} intent={Intent.DANGER} />;\n    const popoverContent = (\n        <div>\n            <Button\n                text=\"No valid words\"\n                disabled={!enabled}\n                intent={Intent.PRIMARY}\n                onClick={() => createChallenge('NO_VALID_WORDS')}\n            />\n            <Button\n                text=\"Word already complete\"\n                disabled={!enabled}\n                intent={Intent.PRIMARY}\n                onClick={() => createChallenge('COMPLETE_WORD')}\n            />\n        </div>\n    );\n    return (\n        <Popover2 content={popoverContent} disabled={!enabled} placement=\"bottom\">\n            {challengeButton}\n        </Popover2>\n    );\n};\n\nexport default ChallengeButton;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeMove } from '../redux/games/actions';\nimport { RootState } from '../redux/store';\nimport './GameTile.css';\n\ntype Props = {\n    letter: string | null;\n    position: Position;\n    isPlayable: boolean;\n    isMostRecentlyPlayed: boolean;\n};\n\nconst GameTile: React.FC<Props> = ({ letter, position, isPlayable, isMostRecentlyPlayed }: Props) => {\n    const background = isMostRecentlyPlayed ? '#fff715' : '#98f795';\n\n    const player = useSelector((state: RootState) => state.player.localPlayer);\n    const { game } = useSelector((state: RootState) => state.game);\n\n    const dispatch = useDispatch();\n\n    const submitMove = (letter: string) => {\n        const upperLetter = letter.toUpperCase();\n        if (!/[A-Z]/.test(upperLetter)) {\n            return;\n        }\n\n        if (game !== null && player !== null) {\n            dispatch(\n                makeMove({\n                    roomCode: game.roomCode,\n                    move: { playerName: player.name, position: position, letter: upperLetter },\n                }),\n            );\n        }\n    };\n\n    const inputDisabled = player?.name !== game?.turnPlayerName || !isPlayable;\n\n    const content = (\n        <input\n            type=\"text\"\n            className=\"tile-input\"\n            disabled={inputDisabled}\n            value={letter || ''}\n            size={1}\n            onChange={(event) => submitMove(event.target.value)}\n        />\n    );\n\n    return (\n        <div className=\"tile\" style={{ background: background }}>\n            <div className=\"tile-content\">{content}</div>\n        </div>\n    );\n};\n\nexport default GameTile;\n","import React from 'react';\nimport GameTile from './GameTile';\n\nexport const rowEntries = (moves: Move[], rowIndex: number): (string | null)[] => {\n    const rowValues = moves.filter((move) => move.position.y === rowIndex).sort((a, b) => a.position.x - b.position.x);\n\n    const rowIndexes = rowValues.map((move) => move.position.x);\n\n    const rowWidth = rowValues[rowValues.length - 1].position.x + 1;\n\n    const rowWithNulls = Array.from(Array(rowWidth).keys()).map((_, index) => {\n        if (rowIndexes.includes(index)) {\n            return rowValues[rowIndexes.indexOf(index)].letter;\n        } else {\n            return null;\n        }\n    });\n\n    console.log(rowWithNulls);\n\n    return rowWithNulls;\n};\n\nexport const colEntries = (moves: Move[], colIndex: number): (string | null)[] => {\n    const colValues = moves.filter((move) => move.position.x === colIndex).sort((a, b) => a.position.y - b.position.y);\n\n    const colIndexes = colValues.map((move) => move.position.y);\n\n    const colWidth = colValues[colValues.length - 1].position.y + 1;\n\n    const colWithNulls = Array.from(Array(colWidth).keys()).map((_, index) => {\n        if (colIndexes.includes(index)) {\n            return colValues[colIndexes.indexOf(index)].letter;\n        } else {\n            return null;\n        }\n    });\n\n    return colWithNulls;\n};\n\ntype Props = {\n    entries: (string | null)[];\n};\n\nconst TilesRow: React.FC<Props> = ({ entries }: Props) => {\n    return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n            {entries.map((value, index) => (\n                <GameTile\n                    letter={value}\n                    position={{ x: index, y: 0 }}\n                    isPlayable={false}\n                    isMostRecentlyPlayed={false}\n                    key={index}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default TilesRow;\n","import { Button, Classes, Dialog, FormGroup, InputGroup } from '@blueprintjs/core';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeChallengeResponse } from '../redux/games/actions';\nimport { RootState } from '../redux/store';\nimport TilesRow, { colEntries, rowEntries } from './TilesRow';\n\nconst ChallengeResponseDialog: React.FC = () => {\n    const player = useSelector((state: RootState) => state.player.localPlayer);\n    const { game } = useSelector((state: RootState) => state.game);\n\n    const [rowWord, setRowWord] = useState<string>('');\n    const [colWord, setColWord] = useState<string>('');\n\n    const dispatch = useDispatch();\n\n    if (!game || !player || game.moves.length == 0) {\n        return <></>;\n    }\n\n    const enabled = (game.challenge &&\n        game.challenge.move.playerName === player.name &&\n        game.challenge.state === 'AWAITING_RESPONSE') as boolean;\n\n    const mostRecentMove = game.moves[game.moves.length - 1];\n    const row = rowEntries(game.moves, mostRecentMove.position.y);\n    const col = colEntries(game.moves, mostRecentMove.position.x);\n\n    const submitResponse = () => {\n        dispatch(makeChallengeResponse({ roomCode: game.roomCode, challengeResponse: { rowWord, colWord } }));\n    };\n\n    return (\n        <Dialog isOpen={enabled} title=\"Challenge Response\" isCloseButtonShown={false} icon=\"flag\">\n            <div className={Classes.DIALOG_BODY}>\n                <h3>You have been challenged!</h3>\n\n                <p>\n                    {game?.challenge?.challengerName} has challenged that your most recent move cannot make valid words.\n                </p>\n\n                <p>\n                    Please provide words that can be made from the row and column of your last move, containing the\n                    placed letters and adding as many letters to the end as you want.\n                </p>\n                <p>Remember the words should be at least 4 letters long.</p>\n\n                <FormGroup label=\"Row:\" inline={true}>\n                    <TilesRow entries={row} />\n                    <InputGroup\n                        placeholder={row.map((value) => value || '_').join('') + '...'}\n                        onChange={(event) => setRowWord(event.target.value)}\n                        value={rowWord}\n                    />\n                </FormGroup>\n\n                <FormGroup label=\"Col:\" inline={true}>\n                    <TilesRow entries={col} />\n                    <InputGroup\n                        placeholder={col.map((value) => value || '_').join('') + '...'}\n                        onChange={(event) => setColWord(event.target.value)}\n                        value={colWord}\n                    />\n                </FormGroup>\n            </div>\n            <Button\n                text=\"Submit\"\n                onClick={() => submitResponse()}\n                disabled={rowWord.length === 0 || colWord.length === 0}\n            />\n        </Dialog>\n    );\n};\n\nexport default ChallengeResponseDialog;\n","import React from 'react';\nimport { Button, Classes, Dialog, FormGroup } from '@blueprintjs/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeChallengeVote } from '../redux/games/actions';\nimport { RootState } from '../redux/store';\nimport TilesRow, { colEntries, rowEntries } from './TilesRow';\n\nconst ChallengeVoteDialog: React.FC = () => {\n    const player = useSelector((state: RootState) => state.player.localPlayer);\n    const { game } = useSelector((state: RootState) => state.game);\n\n    const dispatch = useDispatch();\n\n    if (!game || !player || game.moves.length == 0 || !game.challenge) {\n        return <></>;\n    }\n\n    const challengedRow = rowEntries(game.moves, game.challenge.move.position.y);\n    const challengedCol = colEntries(game.moves, game.challenge.move.position.x);\n\n    const enabled = (game.challenge && game.challenge.state === 'VOTING') as boolean;\n\n    const submitVote = (proChallenge: boolean) => {\n        dispatch(makeChallengeVote({ roomCode: game.roomCode, vote: { voterName: player.name, proChallenge } }));\n    };\n    const submitted = () => game.challenge?.votes.map((vote) => vote.voterName).includes(player.name);\n\n    let messageBody;\n    switch (game.challenge.type) {\n        case 'NO_VALID_WORDS': {\n            const responseRow = game.challenge.response?.rowWord || '';\n            const responseCol = game.challenge.response?.colWord || '';\n            messageBody = (\n                <div>\n                    <p>\n                        {game.challenge.challengerName}\n                        {\" believes valid words can't be made from the most recent move.\"}\n                    </p>\n\n                    <p>{game.challenge.move.playerName} has provided the following words in response.</p>\n\n                    <FormGroup label=\"Row:\" inline={true}>\n                        <FormGroup label=\"Tiles:\" inline={false}>\n                            <TilesRow entries={challengedRow} />\n                        </FormGroup>\n                        <FormGroup label=\"Response:\" inline={false}>\n                            <TilesRow entries={responseRow.split('')} />\n                        </FormGroup>\n                    </FormGroup>\n                    <FormGroup label=\"Col:\" inline={true}>\n                        <FormGroup label=\"Tiles:\" inline={false}>\n                            <TilesRow entries={challengedCol} />\n                        </FormGroup>\n                        <FormGroup label=\"Response:\" inline={false}>\n                            <TilesRow entries={responseCol.split('')} />\n                        </FormGroup>\n                    </FormGroup>\n                </div>\n            );\n            break;\n        }\n        case 'COMPLETE_WORD': {\n            messageBody = (\n                <div>\n                    <p>{game.challenge.challengerName} believes the most recent move completed a word.</p>\n\n                    <FormGroup label=\"Row:\" inline={true}>\n                        <p>Tiles:</p>\n                        <TilesRow entries={challengedRow} />\n                    </FormGroup>\n                    <FormGroup label=\"Col:\" inline={true}>\n                        <p>Tiles:</p>\n                        <TilesRow entries={challengedCol} />\n                    </FormGroup>\n                </div>\n            );\n            break;\n        }\n    }\n\n    return (\n        <Dialog isOpen={enabled} title=\"Challenge!\" isCloseButtonShown={false} icon=\"flag\">\n            <div className={Classes.DIALOG_BODY}>\n                <h3>\n                    {game.challenge.challengerName} has challenged {game.challenge.move.playerName}!\n                </h3>\n                {messageBody}\n                <p>Is the challenge successful?</p>\n                <div style={{ display: 'flex', flexDirection: 'row' }}>\n                    <Button text=\"Yes\" onClick={() => submitVote(true)} disabled={submitted()} />\n                    <Button text=\"No\" onClick={() => submitVote(false)} disabled={submitted()} />\n                </div>\n            </div>\n        </Dialog>\n    );\n};\n\nexport default ChallengeVoteDialog;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../redux/store';\nimport GameTile from './GameTile';\nimport deepEqual from 'deep-equal';\n\nconst neighborCount = (tiles: (string | null)[][], { x, y }: Position): number =>\n    tiles\n        .slice(x - 1, x + 2)\n        .map((row) =>\n            row\n                .slice(y - 1, y + 2)\n                .map((tile) => (tile ? 1 : 0) as number)\n                .reduce((accumulator, currentValue) => accumulator + currentValue, 0),\n        )\n        .reduce((accumulator, currentValue) => accumulator + currentValue, 0);\n\nconst isPlayable = (tiles: (string | null)[][], { x, y }: Position): boolean => {\n    if (tiles[x][y] !== null) {\n        return false;\n    } else if (x === 0 && y === 0) {\n        return true;\n    } else if (x == 0 && tiles[x][y - 1] !== null) {\n        return true;\n    } else if (y == 0 && tiles[x - 1][y] !== null) {\n        return true;\n    } else if (neighborCount(tiles, { x, y }) >= 3) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\n/**\n * Get the size of the board to display\n */\nconst boardSize = (moves: Move[]): number => {\n    const moveWidth = moves\n        .map((move) => Math.max(move.position.x, move.position.y))\n        .reduce((accumulator, currentValue) => Math.max(accumulator, currentValue), 0);\n\n    return moveWidth + 2;\n};\n\nconst GameBoard: React.FC = () => {\n    const { game } = useSelector((state: RootState) => state.game);\n\n    const size = boardSize(game ? game.moves : []);\n    const tiles: (string | null)[][] = Array.from(Array(size).keys()).map(() =>\n        Array.from(Array(size).keys()).map(() => null),\n    );\n    if (game !== null) {\n        game.moves.forEach((move) => (tiles[move.position.x][move.position.y] = move.letter));\n    }\n\n    const renderedTiles = tiles.map((row, x) => (\n        <div style={{ flexDirection: 'row' }} key={x}>\n            {row.map((tile, y) => (\n                <GameTile\n                    letter={tile}\n                    position={{ x, y }}\n                    isPlayable={isPlayable(tiles, { x, y })}\n                    isMostRecentlyPlayed={deepEqual(game?.moves[game.moves.length - 1]?.position, { x, y })}\n                    key={y}\n                />\n            ))}\n        </div>\n    ));\n\n    return <div style={{ display: 'flex' }}>{renderedTiles}</div>;\n};\n\nexport default GameBoard;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../redux/store';\n\ntype PlayerProps = {\n    player: Player;\n    turnPlayer: boolean;\n    loser: boolean;\n};\n\nconst PlayerRow: React.FC<PlayerProps> = ({ player, turnPlayer, loser }: PlayerProps) => {\n    const playerName = turnPlayer ? <b>{player.name}</b> : loser ? <s>{player.name}</s> : player.name;\n    return <p>{playerName}</p>;\n};\n\nconst PlayersList: React.FC = () => {\n    const { game } = useSelector((state: RootState) => state.game);\n\n    const players = game\n        ? game.players.map((player, index) => (\n              <PlayerRow player={player} turnPlayer={player.name == game.turnPlayerName} loser={false} key={index} />\n          ))\n        : [];\n\n    const losers = game\n        ? game.losers.map((player, index) => <PlayerRow player={player} turnPlayer={false} loser={true} key={index} />)\n        : [];\n\n    return (\n        <>\n            <h4>Players</h4>\n            {players}\n            {losers}\n        </>\n    );\n};\n\nexport default PlayersList;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport useInterval from 'react-useinterval';\nimport ChallengeButton from '../components/ChallengeButton';\nimport ChallengeResponseDialog from '../components/ChallengeResponseDialog';\nimport ChallengeVoteDialog from '../components/ChallengeVoteDialog';\nimport GameBoard from '../components/GameBoard';\nimport GhostNavbar from '../components/GhostNavbar';\nimport PlayersList from '../components/PlayersList';\nimport { createGame, fetchGameByRoomCode, joinGame } from '../redux/games/actions';\nimport { RootState } from '../redux/store';\n\nimport './GamePage.css';\n\nconst POLLING_INTERVAL_MS = 1000;\n\nconst GamePage: React.FC = () => {\n    const { roomCode } = useParams<{ roomCode: string }>();\n    const player = useSelector((state: RootState) => state.player.localPlayer);\n    const { game, gameLoadStatus, joined } = useSelector((state: RootState) => state.game);\n    const dispatch = useDispatch();\n\n    const history = useHistory();\n\n    if (player === null) {\n        // TODO: temporary solution until we store player state locally to\n        // defend against refreshes\n        history.push('/');\n        return <div></div>;\n    }\n\n    if (game === null) {\n        switch (gameLoadStatus) {\n            case 'idle':\n                dispatch(fetchGameByRoomCode(roomCode));\n                break;\n            case 'gameDoesNotExist':\n                dispatch(createGame(roomCode));\n                break;\n        }\n    } else {\n        if (!joined) {\n            dispatch(joinGame({ roomCode, player }));\n        }\n    }\n\n    // Poll game state, for now\n    useInterval(() => dispatch(fetchGameByRoomCode(roomCode)), POLLING_INTERVAL_MS);\n\n    return (\n        <div>\n            <GhostNavbar roomCode={roomCode} />\n            <div className=\"with-sidebar\">\n                <div className=\"sidebar\">\n                    <PlayersList />\n                </div>\n                <div className=\"not-sidebar\">\n                    <div className=\"game-page\">\n                        <div className=\"vertical-centering\">\n                            <GameBoard />\n                        </div>\n                        <ChallengeButton />\n                    </div>\n                </div>\n            </div>\n            <ChallengeResponseDialog />\n            <ChallengeVoteDialog />\n        </div>\n    );\n};\n\nexport default GamePage;\n","import React from 'react';\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom';\n\nimport JoinGamePage from './pages/JoinGamePage';\nimport GamePage from './pages/GamePage';\n\n// import logo from './logo.svg';\nimport './App.css';\n\nconst App: React.FC = () => {\n    return (\n        <div className=\"App\">\n            <HashRouter basename=\"/\">\n                <Switch>\n                    <Route path=\"/\" exact component={JoinGamePage} />\n                    <Route path=\"/room/:roomCode\" component={GamePage} />\n\n                    <Redirect to=\"/\" />\n                </Switch>\n            </HashRouter>\n        </div>\n    );\n};\n\nexport default App;\n","import { createSlice } from '@reduxjs/toolkit';\nimport {\n    createGame,\n    fetchGameByRoomCode,\n    joinGame,\n    makeChallenge,\n    makeChallengeResponse,\n    makeChallengeVote,\n    makeMove,\n} from './actions';\n\nconst gamesSlice = createSlice({\n    name: 'games',\n    initialState: {\n        game: null as Game | null,\n        gameLoadStatus: 'idle' as GameLoadStatus,\n        joined: false,\n    },\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(fetchGameByRoomCode.pending, (state) => {\n            state.gameLoadStatus = 'loading';\n        });\n        builder.addCase(fetchGameByRoomCode.fulfilled, (state, action) => {\n            state.game = action.payload;\n            state.gameLoadStatus = 'idle';\n        });\n        builder.addCase(fetchGameByRoomCode.rejected, (state, action) => {\n            state.game = null;\n            //state.gameLoadStatus = 'error';\n            state.gameLoadStatus = 'gameDoesNotExist'; // TEMP\n            if (action.payload) {\n                if (action.payload.statusCode == 404) {\n                    state.gameLoadStatus = 'gameDoesNotExist';\n                }\n            }\n        });\n        builder.addCase(createGame.pending, (state) => {\n            state.game = null;\n            state.gameLoadStatus = 'loading';\n        });\n        builder.addCase(createGame.fulfilled, (state, action) => {\n            state.game = action.payload;\n            state.gameLoadStatus = 'idle';\n        });\n        builder.addCase(createGame.rejected, (state) => {\n            state.game = null;\n            state.gameLoadStatus = 'error';\n        });\n        builder.addCase(joinGame.pending, (state) => {\n            state.gameLoadStatus = 'joining';\n            state.joined = false;\n        });\n        builder.addCase(joinGame.fulfilled, (state, action) => {\n            state.gameLoadStatus = 'idle';\n            state.joined = true;\n            state.game = action.payload;\n        });\n        builder.addCase(joinGame.rejected, (state) => {\n            state.gameLoadStatus = 'error';\n            state.joined = false;\n        });\n        builder.addCase(makeMove.pending, () => {\n            // TODO\n        });\n        builder.addCase(makeMove.fulfilled, (state, action) => {\n            state.game = action.payload;\n        });\n        builder.addCase(makeChallenge.fulfilled, (state, action) => {\n            state.game = action.payload;\n        });\n        builder.addCase(makeChallengeResponse.fulfilled, (state, action) => {\n            state.game = action.payload;\n        });\n        builder.addCase(makeChallengeVote.fulfilled, (state, action) => {\n            state.game = action.payload;\n        });\n    },\n});\n\nexport default gamesSlice;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { setPlayerName } from './actions';\n\nconst playerReducer = createReducer({ localPlayer: null as Player | null }, (builder) =>\n    builder.addCase(setPlayerName, (state, action) => {\n        state.localPlayer = { name: action.payload };\n    }),\n);\n\nexport default playerReducer;\n","import { combineReducers } from 'redux';\nimport gamesSlice from './games/reducers';\nimport playerReducer from './player/reducers';\n\nconst rootReducer = combineReducers({\n    game: gamesSlice.reducer,\n    player: playerReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './rootReducer';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </Provider>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}